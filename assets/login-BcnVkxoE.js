import{ao as b,ap as f,aq as y,j as e,G as i,S as o,a1 as c,am as v,a6 as E,T as A}from"./index-Ci7tCC_k.js";import{F as S,c as B,a as m,I as u,b as t,E as I,d as F,A as P,B as q,e as L}from"./EyeInvisibleOutlined-Dn6iZAmi.js";import"./Link-D0B_Dg1v.js";function k(){const{login:p}=b(),x=f(),[n,h]=y.useState(!1),j=()=>{h(!n)},w=s=>{s.preventDefault()};return e.jsx(e.Fragment,{children:e.jsx(S,{initialValues:{email:"",password:"",submit:null},validationSchema:B().shape({email:m().email("Must be a valid email").max(255).required("Email is required"),password:m().max(255).required("Password is required")}),onSubmit:async s=>{try{const r=await p(s.email,s.password);r.error?setError(r.error):(r.url="/",x(r.url))}catch{setError("An error occurred while logging in")}},children:({errors:s,handleBlur:r,handleChange:l,handleSubmit:g,values:d,touched:a})=>e.jsx("form",{noValidate:!0,onSubmit:g,children:e.jsxs(i,{container:!0,spacing:3,children:[e.jsxs(i,{item:!0,xs:12,children:[e.jsxs(o,{spacing:1,children:[e.jsx(u,{htmlFor:"email-login",children:"Email Address"}),e.jsx(c,{id:"email-login",type:"email",value:d.email,name:"email",onBlur:r,onChange:l,placeholder:"Enter email address",fullWidth:!0,error:!!(a.email&&s.email)})]}),a.email&&s.email&&e.jsx(t,{error:!0,id:"standard-weight-helper-text-email-login",children:s.email})]}),e.jsxs(i,{item:!0,xs:12,children:[e.jsxs(o,{spacing:1,children:[e.jsx(u,{htmlFor:"password-login",children:"Password"}),e.jsx(c,{fullWidth:!0,error:!!(a.password&&s.password),id:"-password-login",type:n?"text":"password",value:d.password,name:"password",onBlur:r,onChange:l,endAdornment:e.jsx(v,{position:"end",children:e.jsx(E,{"aria-label":"toggle password visibility",onClick:j,onMouseDown:w,edge:"end",color:"secondary",children:n?e.jsx(I,{}):e.jsx(F,{})})}),placeholder:"Enter password"})]}),a.password&&s.password&&e.jsx(t,{error:!0,id:"standard-weight-helper-text-password-login",children:s.password})]}),s.submit&&e.jsx(i,{item:!0,xs:12,children:e.jsx(t,{error:!0,children:s.submit})}),e.jsx(i,{item:!0,xs:12,children:e.jsx(P,{children:e.jsx(q,{fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"primary",children:"Login"})})})]})})})})}function M(){return e.jsx(L,{children:e.jsxs(i,{container:!0,spacing:3,children:[e.jsx(i,{item:!0,xs:12,children:e.jsx(o,{direction:"row",justifyContent:"space-between",alignItems:"baseline",sx:{mb:{xs:-.5,sm:.5}},children:e.jsx(A,{variant:"h3",children:"Login"})})}),e.jsx(i,{item:!0,xs:12,children:e.jsx(k,{})})]})})}export{M as default};
